(this["webpackJsonpspin-the-wheel"]=this["webpackJsonpspin-the-wheel"]||[]).push([[1],{11:function(e,t,n){"use strict";var s=n(5),i=n.n(s),o=n(14),r=n(2),a=n(1),c="/spin-the-wheel",l="";function u(){return(u=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=console.log.bind(console),p=console.error.bind(console);var h={pwaUrl:c,bugReportApiUrl:"https://vh6ud1o56g.execute-api.ap-northeast-1.amazonaws.com/bugReportMailer",storeFile:"SpinTheWheelSettings.json",getLog:function(){return l},enableAppLog:function(){console.log=function(){l+="----- Info ----\n",l+=Array.from(arguments)+"\n",d.apply(console,arguments)},console.error=function(){l+="----- Error ----\n",l+=Array.from(arguments)+"\n",p.apply(console,arguments)}},disableAppLog:function(){l="",console.log=d,console.error=p},appSettings:{theme:"\u4f48\u666f\u4e3b\u984c",uiFontSize:"UI\u5b57\u578b\u5927\u5c0f"},fetchErrorContent:Object(a.jsx)("div",{className:"contentCenter",children:Object(a.jsx)(r.n,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:"\u9023\u7dda\u5931\u6557!"}),Object(a.jsxs)("div",{style:{fontSize:"var(--ui-font-size)",paddingTop:24},children:["\u5982\u679c\u554f\u984c\u6301\u7e8c\u767c\u751f\uff0c\u8acb\u57f7\u884c",Object(a.jsx)("a",{href:"/".concat(c,"/settings"),target:"_self",children:"\u8a2d\u5b9a\u9801"}),"\u7684 app \u7570\u5e38\u56de\u5831\u529f\u80fd\u3002"]})]})})}),updateApp:function(){return new Promise(function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.serviceWorker.getRegistrations().then(function(){var e=Object(o.a)(i.a.mark((function e(n){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map((function(e){return e.update().then((function(e){return null!==e.installing||null!==e.waiting}))})));case 2:s=e.sent,t(s.reduce((function(e,t){return e||t}),!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},updateCssVars:function(e){document.documentElement.style.cssText="--ui-font-size: ".concat(e.uiFontSize,"px;")},isTouchDevice:function(){return Object(r.N)("ios")||Object(r.N)("android")},isStoreApps:function(){return Object(r.N)("pwa")||Object(r.N)("electron")},clearAppData:function(){return u.apply(this,arguments)},copyToClipboard:function(e){try{navigator.clipboard&&navigator.clipboard.writeText(e)}catch(t){console.error(t)}}};t.a=h},113:function(e,t,n){"use strict";(function(e){var s=n(5),i=n.n(s),o=n(14),r=n(4),a=n(6),c=n(7),l=n(8),u=n(0),d=n.n(u),p=n(2),h=n(21),j=n(114),b=n.n(j),f=n(11),m=n(12),g=(n(250),n(78)),v=n(1),x=function(t){Object(c.a)(s,t);var n=Object(l.a)(s);function s(e){var t;return Object(r.a)(this,s),(t=n.call(this,e)).reportText="",t.state={showBugReportAlert:!1,showClearAlert:!1,showToast:!1,toastMessage:""},t}return Object(a.a)(s,[{key:"ionViewWillEnter",value:function(){}},{key:"render",value:function(){var t=this;return Object(v.jsxs)(p.q,{children:[Object(v.jsx)(p.g,{children:Object(v.jsx)(p.E,{children:Object(v.jsx)(p.B,{className:"uiFont",children:"\u8a2d\u5b9a"})})}),Object(v.jsxs)(p.d,{children:[Object(v.jsxs)(p.o,{children:[Object(v.jsxs)(p.j,{children:[Object(v.jsx)("div",{tabIndex:0}),Object(v.jsx)(p.h,{icon:m.c,slot:"start"}),Object(v.jsx)(p.n,{className:"ion-text-wrap uiFont",children:"\u555f\u7528 app \u7570\u5e38\u8a18\u9304"}),Object(v.jsx)(p.D,{slot:"end",checked:this.props.hasAppLog,onIonChange:function(e){var n=e.detail.checked;t.props.hasAppLog!==n&&(n?f.a.enableAppLog():f.a.disableAppLog(),t.props.dispatch({type:"SET_KEY_VAL",key:"hasAppLog",val:n}))}})]}),Object(v.jsxs)(p.j,{hidden:!this.props.settings.hasAppLog,children:[Object(v.jsx)("div",{tabIndex:0}),Object(v.jsx)(p.h,{icon:m.c,slot:"start"}),Object(v.jsx)(p.n,{className:"ion-text-wrap uiFont",children:"\u56de\u5831app\u7570\u5e38\u8a18\u9304"}),Object(v.jsx)(p.c,{fill:"outline",shape:"round",slot:"end",size:"large",className:"uiFont",onClick:function(e){t.reportText="\u700f\u89bd\u5668\uff1a"+navigator.userAgent+"\n\nApp\u7248\u672c\uff1a"+g.pwaVersion+"\n\nApp\u8a2d\u5b9a\uff1a"+JSON.stringify(t.props.settings)+"\n\nLog\uff1a\n"+f.a.getLog(),t.setState({showBugReportAlert:!0})},children:"\u56de\u5831"}),Object(v.jsx)(p.a,{cssClass:"uiFont",backdropDismiss:!1,isOpen:this.state.showBugReportAlert,header:"\u7570\u5e38\u56de\u5831",subHeader:"\u8f38\u5165\u60a8\u7684 E-mail\uff0c\u4ee5\u5f8c\u7e8c\u806f\u7d61",inputs:[{name:"name0",type:"email",placeholder:"\u4f8b\uff1aabc@example.com"},{name:"name1",type:"textarea",placeholder:"\u8acb\u63cf\u8ff0\u767c\u751f\u6b65\u9a5f"}],buttons:[{text:"\u9001\u51fa",cssClass:"primary uiFont",handler:function(){var e=Object(o.a)(i.a.mark((function e(n){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(n.name0)){e.next=3;break}return t.setState({showBugReportAlert:!1,showToast:!0,toastMessage:"\u932f\u8aa4\uff0cE-mail \u4e0d\u7b26\u683c\u5f0f\uff01"}),e.abrupt("return");case 3:return e.prev=3,s=b.a.create({timeout:1e4}),e.next=7,s.post(f.a.bugReportApiUrl,{subject:"".concat(g.productName,"\u7570\u5e38\u8a18\u9304\u56de\u5831"),text:"E-mail: ".concat(n.name0,"\n\n\u767c\u751f\u6b65\u9a5f: ").concat(n.name1,"\n\n").concat(t.reportText)});case 7:t.setState({showBugReportAlert:!1,showToast:!0,toastMessage:"\u7570\u5e38\u56de\u5831\u6210\u529f"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),t.setState({showBugReportAlert:!1,showToast:!0,toastMessage:"\u7570\u5e38\u56de\u5831\u5931\u6557"});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary uiFont",handler:function(){return t.setState({showBugReportAlert:!1})}}]})]}),Object(v.jsxs)(p.j,{children:[Object(v.jsx)("div",{tabIndex:0}),Object(v.jsx)(p.h,{icon:m.l,slot:"start"}),Object(v.jsx)("div",{className:"contentBlock",children:Object(v.jsxs)("div",{style:{flexDirection:"column"},children:[Object(v.jsx)(p.n,{className:"ion-text-wrap uiFont",children:"App \u8a2d\u5b9a"}),Object(v.jsxs)("div",{style:{textAlign:"right"},children:[Object(v.jsx)(p.c,{fill:"outline",shape:"round",size:"large",className:"uiFont",onClick:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="data:text/json;charset=utf-8,".concat(encodeURIComponent(localStorage.getItem(f.a.storeFile)||"")),(s=document.createElement("a")).href=n,s.download=f.a.storeFile,s.click(),s.remove();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"\u532f\u51fa"}),Object(v.jsx)("input",{id:"importJsonInput",type:"file",accept:".json",style:{display:"none"},onChange:function(){var e=Object(o.a)(i.a.mark((function e(n){var s,o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(s=n.target.files)||void 0===s?void 0:s.item(0),e.next=3,null===o||void 0===o?void 0:o.text();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0="";case 6:r=e.t0;try{JSON.parse(r),localStorage.setItem(f.a.storeFile,r),t.props.dispatch({type:"LOAD_SETTINGS"})}catch(i){console.error(i),console.error((new Error).stack)}document.getElementById("importJsonInput").value="";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(v.jsx)(p.c,{fill:"outline",shape:"round",size:"large",className:"uiFont",onClick:function(e){document.querySelector("#importJsonInput").click()},children:"\u532f\u5165"}),Object(v.jsx)(p.c,{fill:"outline",shape:"round",size:"large",className:"uiFont",onClick:function(e){t.setState({showClearAlert:!0})},children:"\u91cd\u7f6e"}),Object(v.jsx)(p.a,{cssClass:"uiFont",isOpen:this.state.showClearAlert,backdropDismiss:!1,onDidPresent:function(e){},header:"\u91cd\u7f6e\u6703\u9084\u539f app \u8a2d\u5b9a\u9810\u8a2d\u503c\u4e26\u6e05\u9664\u66f8\u7c64\uff01\u78ba\u5b9a\u91cd\u7f6e\uff1f",buttons:[{text:"\u53d6\u6d88",cssClass:"primary uiFont",handler:function(e){t.setState({showClearAlert:!1})}},{text:"\u91cd\u7f6e",cssClass:"secondary uiFont",handler:function(){var e=Object(o.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.clearAppData();case 2:t.props.dispatch({type:"DEFAULT_SETTINGS"}),t.setState({showClearAlert:!1,showToast:!0,toastMessage:"\u6e05\u9664\u6210\u529f!"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]})]})]})})]}),Object(v.jsxs)(p.j,{children:[Object(v.jsx)("div",{tabIndex:0}),Object(v.jsx)(p.h,{icon:m.k,slot:"start"}),Object(v.jsx)(p.n,{className:"ion-text-wrap uiFont",children:f.a.appSettings.theme}),Object(v.jsxs)(p.w,{slot:"end",value:+this.props.theme,className:"uiFont",interface:"popover",interfaceOptions:{cssClass:"SpinTheWheelthemes"},onIonChange:function(e){var n=+e.detail.value;+t.props.theme!==n&&t.props.dispatch({type:"SET_KEY_VAL",key:"theme",val:n})},children:[Object(v.jsx)(p.x,{className:"uiFont cbeta",value:0,children:"\u7da0\u5e95"}),Object(v.jsx)(p.x,{className:"uiFont dark",value:1,children:"\u6697\u8272"}),Object(v.jsx)(p.x,{className:"uiFont light",value:2,children:"\u4eae\u8272"}),Object(v.jsx)(p.x,{className:"uiFont oldPaper",value:3,children:"\u820a\u66f8"}),Object(v.jsx)(p.x,{className:"uiFont marble",value:4,children:"\u5927\u7406\u77f3"})]})]}),Object(v.jsxs)(p.j,{children:[Object(v.jsx)("div",{tabIndex:0}),Object(v.jsx)(p.h,{icon:m.x,slot:"start"}),Object(v.jsx)("div",{className:"contentBlock",children:Object(v.jsxs)("div",{style:{flexDirection:"column"},children:[Object(v.jsxs)("span",{className:"ion-text-wrap uiFont",children:[f.a.appSettings.uiFontSize,": ",this.props.uiFontSize]}),Object(v.jsx)(p.r,{min:12,max:48,pin:!0,snaps:!0,value:this.props.uiFontSize,onIonChange:function(n){t.props.dispatch({type:"SET_KEY_VAL",key:"uiFontSize",val:+n.detail.value}),e((function(){f.a.updateCssVars(t.props.settings)}))}})]})})]}),Object(v.jsxs)(p.j,{children:[Object(v.jsx)("div",{tabIndex:0}),Object(v.jsx)(p.h,{icon:m.m,slot:"start"}),Object(v.jsxs)("div",{className:"uiFont",children:[Object(v.jsx)("div",{children:"\u95dc\u65bc"}),Object(v.jsx)("div",{children:"\u4f5c\u8005: Meng-Yuan Huang"}),Object(v.jsx)("div",{children:Object(v.jsx)("a",{href:"mailto:myh@live.com",target:"_new",children:"myh@live.com"})})]})]})]}),Object(v.jsx)(p.C,{cssClass:"uiFont",isOpen:this.state.showToast,onDidDismiss:function(){return t.setState({showToast:!1})},message:this.state.toastMessage,duration:2e3})]})]})}}]),s}(d.a.Component),O=Object(p.P)(x);t.a=Object(h.b)((function(e){return{settings:e.settings,hasAppLog:e.settings.hasAppLog,theme:e.settings.theme,uiFontSize:e.settings.uiFontSize,speechRate:e.settings.speechRate,bookmarks:e.settings.bookmarks,voiceURI:e.settings.voiceURI,mainVersion:e.tmpSettings.mainVersion}}))(O)}).call(this,n(98).setImmediate)},116:function(e,t,n){"use strict";(function(e){var s=n(26),i=n(5),o=n.n(i),r=n(14),a=n(4),c=n(6),l=n(7),u=n(8),d=n(0),p=n.n(d),h=n(2),j=n(12),b=n(21),f=n(119),m=n(117),g=n(1),v=function(t){Object(l.a)(i,t);var n=Object(u.a)(i);function i(e){var t;return Object(a.a)(this,i),(t=n.call(this,e)).spin=void 0,t.renderWheel=void 0,t.state={selectedItem:"",showDecisonsModal:!1,showToast:!1,toastMessage:""},t}return Object(c.a)(i,[{key:"decision",value:function(){var e=this.props.settings.decisions;if(0!==e.length)return e[this.props.settings.selectedDecision]}},{key:"ionViewWillEnter",value:function(){}},{key:"render",value:function(){var t,n,i,a=this;return Object(g.jsxs)(h.q,{children:[Object(g.jsx)(h.g,{children:Object(g.jsxs)(h.E,{children:[Object(g.jsx)(h.B,{className:"uiFont",children:"\u5e78\u904b\u8f2a\u76e4"}),Object(g.jsx)(h.c,{fill:"clear",slot:"end",onClick:function(e){var t="title=".concat(encodeURIComponent(a.decision().title),"&").concat(a.decision().selections.map((function(e){return"s=".concat(encodeURIComponent(e.title))})).join("&"));a.props.dispatch({type:"TMP_SET_KEY_VAL",key:"shareTextModal",val:{show:!0,text:"".concat(window.location.origin).concat(window.location.pathname,"?").concat(t)}})},children:Object(g.jsx)(h.h,{icon:j.v,slot:"icon-only"})})]})}),Object(g.jsxs)(h.d,{children:[Object(g.jsxs)("div",{className:"contentCenter",children:[Object(g.jsxs)("div",{style:{flex:"0 0 auto",fontSize:(null===(t=this.decision())||void 0===t?void 0:t.fontSize)||24},children:[(null===(n=this.decision())||void 0===n?void 0:n.title)||Object(g.jsx)("span",{children:"\xa0"}),Object(g.jsx)("span",{style:{color:"red"},children:this.state.selectedItem})]}),Object(g.jsx)(m.a,{updateSelectedItem:function(e){a.setState({selectedItem:e})},decision:this.decision.bind(this),setSpin:function(e){return a.spin=e},setRenderWheel:function(e){return a.renderWheel=e}}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row",verticalAlign:"middle",width:"calc(100% - 40px)"},children:[Object(g.jsx)("span",{className:"uiFont",style:{marginTop:"auto",marginBottom:"auto"},children:"\u6587\u5b57\u5927\u5c0f"}),Object(g.jsx)("div",{style:{marginTop:"auto",marginBottom:"auto",flex:"1 1 auto"},children:Object(g.jsx)(h.r,{min:12,max:128,pin:!0,snaps:!0,value:(null===(i=this.decision())||void 0===i?void 0:i.fontSize)||24,onIonChange:function(){var t=Object(r.a)(o.a.mark((function t(n){var s,i,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.props.settings.decisions,null!=(i=a.decision())){t.next=4;break}return t.abrupt("return");case 4:i.fontSize=+n.detail.value,r=s.findIndex((function(e){return e.uuid===i.uuid})),s[r]=i,a.props.dispatch({type:"UPDATE_DECISIONS",decisions:s}),e((function(){a.renderWheel()}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})})]}),Object(g.jsxs)("div",{className:"buttonsRow",children:[Object(g.jsx)(h.c,{fill:"outline",shape:"round",size:"large",className:"uiFont",onClick:function(e){a.setState({showDecisonsModal:!0})},children:"\u9078\u64c7"}),Object(g.jsx)(h.c,{fill:"outline",shape:"round",size:"large",className:"uiFont",onClick:function(e){a.spin()},children:"\u8f49\u52d5"})]})]}),Object(g.jsx)(f.a,Object(s.a)({},Object(s.a)({showModal:this.state.showDecisonsModal,finish:function(){a.setState({showDecisonsModal:!1,selectedItem:""}),e((function(){a.renderWheel()}))}},this.props))),Object(g.jsx)(h.C,{cssClass:"uiFont",isOpen:this.state.showToast,onDidDismiss:function(){return a.setState({showToast:!1})},message:this.state.toastMessage,duration:2e3})]})]})}}]),i}(p.a.Component),x=Object(h.P)(v);t.a=Object(b.b)((function(e){return{isLoadingData:e.tmpSettings.isLoadingData,tmpSettings:e.tmpSettings,settings:e.settings}}))(x)}).call(this,n(98).setImmediate)},117:function(e,t,n){"use strict";var s=n(4),i=n(6),o=n(9),r=n(7),a=n(8),c=n(0),l=n.n(c),u=n(2),d=n(21),p=n(33),h=n(1),j=20,b=20,f=20,m=20;function g(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var v=function(e){Object(r.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).wheel=void 0,i.props.setSpin(i.spin.bind(Object(o.a)(i))),i.props.setRenderWheel(i.renderWheel.bind(Object(o.a)(i))),window.addEventListener("resize",(function(){i.renderWheel()})),i}return Object(i.a)(n,[{key:"ionViewWillEnter",value:function(){this.renderWheel()}},{key:"decision",get:function(){return this.props.decision()}},{key:"renderWheel",value:function(){var e=this;if(null!=document.querySelector("#chart"))if(null!=this.decision){document.querySelector("#chart").hidden=!1,p.f("#chart").selectChild("svg").remove();var t=document.querySelector("#chart").getBoundingClientRect(),n=t.width,s=t.height,i=n-m-b,o=s-j-f,r=Math.min(i,o)/2,a=p.e(["#e5dff6","#e5f6df","#dfe5f6","#ebd4f3","#f6f0df"]),c=p.f("#chart").selectAll("svg").data([null]).join("svg").attr("width",n).attr("height",s);c.selectChildren().remove();var l=c.append("g").attr("class","chartcontainer").attr("transform","translate(".concat(i/2+m,",").concat(o/2+j,")"));this.wheel=l.append("g").attr("class","wheel");var u=p.d().sort(null).value((function(e){return 1})),d=p.a().innerRadius(0).outerRadius(r),h=this.wheel.selectAll("g.slice").data(u(this.decision.selections)).enter().append("g").attr("class","slice");h.append("path").attr("fill",(function(e,t){return a(t+"")})).attr("d",(function(e){return d(e)})),h.append("text").attr("transform",(function(e){var t=r,n=(e.startAngle+e.endAngle)/2;return"rotate(".concat(180*n/Math.PI-90,")translate(").concat(t-10,")")})).attr("text-anchor","end").text((function(t,n){return e.decision.selections[n].title})).style("font-size",this.decision.fontSize),c.append("g").attr("class","arrow").attr("transform","translate(".concat((i+m+b)/2-15,", 12)")).append("path").attr("d","M0 0 H30 L 15 ".concat(Math.sqrt(3)/2*30,"Z")).style("fill","#000809")}else document.querySelector("#chart").hidden=!0}},{key:"spin",value:function(){var e,t=this,n=360/this.decision.selections.length,s=g(0,this.decision.selections.length),i=g(1,n),o=(this.decision.selections.length-s)*n-i+1080;null===(e=this.wheel)||void 0===e||e.transition().duration(3e3).attrTween("transform",(function(){var e=p.c(0,o);return function(t){return"rotate(".concat(e(t),")")}})).ease(p.b).on("end",(function(){var e=t.decision.selections[s].title;t.props.updateSelectedItem(e)}))}},{key:"render",value:function(){return Object(h.jsx)("div",{id:"chart"})}}]),n}(l.a.Component),x=Object(d.b)((function(e){return{decisions:e.settings.decisions,selectedDecision:e.settings.selectedDecision}}))(Object(u.P)(v));t.a=x},119:function(e,t,n){"use strict";var s=n(4),i=n(6),o=n(7),r=n(8),a=n(0),c=n.n(a),l=n(2),u=n(21),d=n(12),p=n(322),h=n(40),j=n(30),b=n(1),f=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).bookmarkListRef=void 0,i.state={newDecision:JSON.parse(JSON.stringify(i.props.selectedDecision)),showAddSelectionItemAlert:!1,reorder:!1,showToast:!1,toastMessage:""},i.bookmarkListRef=c.a.createRef(),i}return Object(i.a)(n,[{key:"delBookmarkHandler",value:function(e){var t=this.state.newDecision;t.selections.splice(e,1),this.setState({newDecision:t})}},{key:"reorderBookmarks",value:function(e){var t=this.state.newDecision;t.selections=e.detail.complete(t.selections),this.setState({newDecision:t})}},{key:"getBookmarkRows",value:function(){var e=this,t=Array();return this.state.newDecision.selections.forEach((function(n,s){t.push(Object(b.jsxs)(l.m,{children:[Object(b.jsxs)(l.j,{className:"uiFont",button:!0,onClick:function(e){},children:[Object(b.jsx)(l.i,{value:n.title,placeholder:"\u65b0\u9805\u76ee",clearInput:!0,className:"ionInput",onIonChange:function(t){var n=e.state.newDecision;n.selections[s].title=t.detail.value||"",e.setState({newDecision:n})}}),Object(b.jsx)(l.s,{slot:"end"})]},"selectionItem_"+s),Object(b.jsx)(l.l,{side:"end",children:Object(b.jsx)(l.k,{className:"uiFont",color:"danger",onClick:function(t){var n;e.delBookmarkHandler(s),null===(n=e.bookmarkListRef.current)||void 0===n||n.closeSlidingItems()},children:"\u522a\u9664"})})]},"selectionItemSliding_"+s))})),t}},{key:"render",value:function(){var e=this;return null==this.props.selectedDecision?Object(b.jsx)(b.Fragment,{}):Object(b.jsxs)(l.p,{cssClass:"uiFont",swipeToClose:!1,backdropDismiss:!1,isOpen:this.props.showModal,children:[Object(b.jsx)(l.g,{children:Object(b.jsxs)(l.E,{children:[Object(b.jsx)(l.B,{className:"uiFont",children:"\u7de8\u8f2f\u8f2a\u76e4"}),Object(b.jsx)(l.c,{fill:this.state.reorder?"solid":"clear",slot:"end",onClick:function(t){return e.setState({reorder:!e.state.reorder})},children:Object(b.jsx)(l.h,{icon:d.w,slot:"icon-only"})})]})}),Object(b.jsxs)(l.d,{className:"contentCenter",children:[Object(b.jsx)(l.i,{value:this.state.newDecision.title,placeholder:"\u8f2a\u76e4\u6a19\u984c",clearInput:!0,className:"ionInput",onIonChange:function(t){var n=e.state.newDecision;n.title=t.detail.value||"",e.setState({newDecision:n})}}),Object(b.jsx)(l.o,{ref:this.bookmarkListRef,children:Object(b.jsx)(l.t,{disabled:!this.state.reorder,onIonItemReorder:function(t){e.reorderBookmarks(t)},children:this.getBookmarkRows()})},"bookmarkList0"),Object(b.jsx)(l.e,{vertical:"bottom",horizontal:"end",slot:"fixed",children:Object(b.jsx)(l.f,{onClick:function(t){var n=e.state.newDecision;n.selections.push(new j.a({title:""})),e.setState({newDecision:n})},children:Object(b.jsx)(l.h,{icon:d.a})})}),Object(b.jsxs)("div",{className:"buttonsRow",children:[Object(b.jsx)(l.c,{fill:"outline",shape:"round",size:"large",className:"uiFont",onClick:function(t){e.props.finish(e.state.newDecision)},children:"\u5132\u5b58"}),Object(b.jsx)(l.c,{fill:"outline",shape:"round",size:"large",className:"uiFont",onClick:function(t){e.props.finish()},children:"\u53d6\u6d88"})]}),Object(b.jsx)(l.C,{cssClass:"uiFont",isOpen:this.state.showToast,onDidDismiss:function(){return e.setState({showToast:!1})},message:this.state.toastMessage,duration:2e3})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedDecision!==t.newDecision?{newDecision:e.selectedDecision}:null}}]),n}(c.a.Component),m=Object(u.b)((function(e){return{decisions:e.items,settings:e.settings}}))(f),g=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).decisionListRef=void 0,i.state={showAddDecisionAlert:!1,selectedDecision:null,showSelectionItemsModal:!1,reorder:!1,showToast:!1,toastMessage:""},i.decisionListRef=c.a.createRef(),i}return Object(i.a)(n,[{key:"delDecisionHandler",value:function(e){this.props.dispatch({type:"DEL_DECISION",uuid:e})}},{key:"reorderDecisions",value:function(e){var t=e.detail.complete(this.props.settings.decisions);this.props.dispatch({type:"UPDATE_DECISIONS",decisions:t})}},{key:"getDecisionRows",value:function(){var e=this,t=this.props.settings.decisions,n=Array();return t.forEach((function(t,s){n.push(Object(b.jsxs)(l.m,{children:[Object(b.jsxs)(l.j,{children:[Object(b.jsx)(l.c,{fill:"clear",size:"large",className:"uiFont",style:{flex:"1 1 auto"},onClick:function(t){e.props.dispatch({type:"SET_KEY_VAL",key:"selectedDecision",val:s}),e.props.finish()},children:t.title},"decisionSubItem_"+s),Object(b.jsx)(l.c,{slot:"end",size:"large",onClick:function(n){e.setState({showSelectionItemsModal:!0,selectedDecision:t})},children:Object(b.jsx)(l.h,{icon:d.d,slot:"icon-only"})}),Object(b.jsx)(l.s,{slot:"end"})]},"decisionItem_"+s),Object(b.jsx)(l.l,{side:"end",children:Object(b.jsx)(l.k,{className:"uiFont",color:"danger",onClick:function(n){var s;e.delDecisionHandler(t.uuid),null===(s=e.decisionListRef.current)||void 0===s||s.closeSlidingItems()},children:"\u522a\u9664"})})]},"decisionItemSliding_"+s))})),n}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(l.p,{cssClass:"uiFont",swipeToClose:!1,backdropDismiss:!1,isOpen:this.props.showModal,children:[Object(b.jsx)(l.g,{children:Object(b.jsxs)(l.E,{children:[Object(b.jsx)(l.B,{className:"uiFont",children:"\u9078\u64c7\u8f2a\u76e4"}),Object(b.jsx)(l.c,{fill:this.state.reorder?"solid":"clear",slot:"end",onClick:function(t){return e.setState({reorder:!e.state.reorder})},children:Object(b.jsx)(l.h,{icon:d.w,slot:"icon-only"})})]})}),Object(b.jsxs)(l.d,{className:"contentCenter",children:[Object(b.jsx)(l.o,{ref:this.decisionListRef,children:Object(b.jsx)(l.t,{disabled:!this.state.reorder,onIonItemReorder:function(t){e.reorderDecisions(t)},children:this.getDecisionRows()})},"decisionList0"),Object(b.jsx)(l.e,{vertical:"bottom",horizontal:"end",slot:"fixed",children:Object(b.jsx)(l.f,{onClick:function(t){e.setState({showAddDecisionAlert:!0})},children:Object(b.jsx)(l.h,{icon:d.a})})}),Object(b.jsx)(l.a,{cssClass:"uiFont",backdropDismiss:!1,isOpen:this.state.showAddDecisionAlert,header:"\u8acb\u8f38\u5165\u8f2a\u76e4\u6a19\u984c",inputs:[{name:"name0",type:"search",placeholder:"\u4f8b\uff1a\u4e2d\u9910\u5403\u4ec0\u9ebc\uff1f"}],buttons:[{text:"\u65b0\u589e",cssClass:"primary uiFont",handler:function(t){e.setState({showAddDecisionAlert:!1}),e.props.dispatch({type:"ADD_DECISION",decision:new h.a(Object(p.a)(),t.name0)})}},{text:"\u53d6\u6d88",role:"cancel",cssClass:"secondary uiFont",handler:function(){return e.setState({showAddDecisionAlert:!1})}}]}),Object(b.jsx)("div",{children:Object(b.jsx)(l.c,{fill:"outline",shape:"round",size:"large",className:"uiFont",onClick:function(t){e.props.finish()},children:"\u95dc\u9589"})}),Object(b.jsx)(m,{selectedDecision:this.state.selectedDecision,showModal:this.state.showSelectionItemsModal,finish:function(t){if(e.setState({showSelectionItemsModal:!1}),null!=t){var n=e.props.settings.decisions,s=n.findIndex((function(e){return e.uuid===t.uuid}));n[s]=t,e.props.dispatch({type:"UPDATE_DECISIONS",decisions:n})}},history:this.props.history,match:this.props.match,location:this.props.location})]})]})}}]),n}(c.a.Component);t.a=Object(u.b)((function(e){return{decisions:e.items,settings:e.settings,tmpSettings:e.tmpSettings}}))(g)},200:function(e,t,n){var s={"./ion-action-sheet.entry.js":[277,5],"./ion-alert.entry.js":[278,6],"./ion-app_8.entry.js":[279,7],"./ion-avatar_3.entry.js":[280,17],"./ion-back-button.entry.js":[281,18],"./ion-backdrop.entry.js":[282,43],"./ion-button_2.entry.js":[283,19],"./ion-card_5.entry.js":[284,20],"./ion-checkbox.entry.js":[285,21],"./ion-chip.entry.js":[286,22],"./ion-col_3.entry.js":[287,44],"./ion-datetime_3.entry.js":[288,10],"./ion-fab_3.entry.js":[289,23],"./ion-img.entry.js":[290,45],"./ion-infinite-scroll_2.entry.js":[291,46],"./ion-input.entry.js":[292,24],"./ion-item-option_3.entry.js":[293,25],"./ion-item_8.entry.js":[294,26],"./ion-loading.entry.js":[295,27],"./ion-menu_3.entry.js":[296,28],"./ion-modal.entry.js":[297,8],"./ion-nav_2.entry.js":[298,14],"./ion-popover.entry.js":[299,9],"./ion-progress-bar.entry.js":[300,29],"./ion-radio_2.entry.js":[301,30],"./ion-range.entry.js":[302,31],"./ion-refresher_2.entry.js":[303,11],"./ion-reorder_2.entry.js":[304,16],"./ion-ripple-effect.entry.js":[305,47],"./ion-route_4.entry.js":[306,32],"./ion-searchbar.entry.js":[307,33],"./ion-segment_2.entry.js":[308,34],"./ion-select_3.entry.js":[309,35],"./ion-slide_2.entry.js":[310,48],"./ion-spinner.entry.js":[311,13],"./ion-split-pane.entry.js":[312,49],"./ion-tab-bar_2.entry.js":[313,36],"./ion-tab_2.entry.js":[314,15],"./ion-text.entry.js":[315,37],"./ion-textarea.entry.js":[316,38],"./ion-toast.entry.js":[317,39],"./ion-toggle.entry.js":[318,12],"./ion-virtual-scroll.entry.js":[319,50]};function i(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(s)},i.id=200,e.exports=i},202:function(e,t,n){var s={"./ion-icon.entry.js":[320,57]};function i(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(s)},i.id=202,e.exports=i},231:function(e,t,n){},250:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),o=n(32),r=n.n(o),a=n(62),c=n(5),l=n.n(c),u=n(14),d=n(26),p=n(4),h=n(6),j=n(7),b=n(8),f=n(13),m=n(2),g=n(111),v=n(21),x=n(112),O=n.n(x),w=n(50),y=n(48),k=n(11),S=n(322),C=n(40),A=n(30),D=function e(){Object(p.a)(this,e),this.version=1,this.hasAppLog=!0,this.theme=2,this.uiFontSize=24,this.selectedDecision=0,this.decisions=[new C.a(Object(S.a)(),"\u51fa\u570b\u53bb\u54ea\u73a9\uff1f",[new A.a({title:"\u7f8e\u570b"}),new A.a({title:"\u65e5\u672c"}),new A.a({title:"\u6fb3\u6d32"}),new A.a({title:"\u6cd5\u570b"}),new A.a({title:"\u52a0\u62ff\u5927"})])]};function I(e){for(;document.body.classList.length>0;)document.body.classList.remove(document.body.classList.item(0));document.body.classList.toggle("theme".concat(e.theme),!0),k.a.updateCssVars(e)}var E=function e(){Object(p.a)(this,e),this.shareTextModal={text:"",show:!1}};var N=Object(w.a)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new D,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case"LOAD_SETTINGS":I(n=JSON.parse(localStorage.getItem(k.a.storeFile)).settings);break;case"SET_KEY_VAL":var s=t.key,i=t.val;switch(s){case"theme":document.body.classList.forEach((function(e){/theme/.test(e)&&document.body.classList.remove(e)})),document.body.classList.toggle("theme".concat(i),!0)}n[s]=i,localStorage.setItem(k.a.storeFile,JSON.stringify({settings:n}));break;case"ADD_DECISION":n.decisions=[].concat(Object(y.a)(n.decisions),[t.decision]),localStorage.setItem(k.a.storeFile,JSON.stringify({settings:n}));break;case"DEL_DECISION":var o=n.decisions,r=o.findIndex((function(e){return e.uuid===t.uuid}));-1!==r&&o.splice(r,1),n.decisions=Object(y.a)(o);var a=r-1;a<n.decisions.length&&(n.selectedDecision=a>=0?a:0),localStorage.setItem(k.a.storeFile,JSON.stringify({settings:n}));break;case"UPDATE_DECISIONS":n.decisions=t.decisions,localStorage.setItem(k.a.storeFile,JSON.stringify({settings:n}));break;case"DEFAULT_SETTINGS":I(n=new D);break;default:0===Object.keys(n).length&&(n=new D);var c=new D;Object.keys(c).forEach((function(e){void 0===n[e]&&(n[e]=c[e])}))}return n},tmpSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new E,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e),s=t.key,i=t.val;switch(n[s]=i,t.type){case"TMP_SET_KEY_VAL":return n}return e}});var T=n(12),F=(n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(113)),L=n(115),_=n(1),M=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).state={isAppSettingsExport:Array(Object.keys(k.a.appSettings).length)},s}return Object(h.a)(n,[{key:"updateQrCode",value:function(){var e=this,t=Object.keys(k.a.appSettings).filter((function(t,n){return e.state.isAppSettingsExport[n]})).map((function(t,n){return{key:t,val:e.props.settings[t]}})).map((function(e){return"".concat(e.key,"=").concat(+e.val)})).join(",");t=""!==t?"settings=".concat(t):null;var n=this.props.text,s=/\?/.test(n);t&&(n+=s?"&".concat(t):"?".concat(t)),k.a.copyToClipboard(n);var i=document.getElementById("qrcCanvas");return L.toCanvas(i,n),i}},{key:"render",value:function(){var e=this;return Object(_.jsx)(m.p,{isOpen:this.props.showModal,cssClass:"uiFont",swipeToClose:!0,onWillPresent:function(){for(var t=[],n=0;n<e.state.isAppSettingsExport.length;n++)t.push(!1);e.setState({isAppSettingsExport:t},(function(){e.updateQrCode()}))},onDidDismiss:function(){return e.props.finish()},children:Object(_.jsx)(m.d,{children:Object(_.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",alignItems:"center"},children:[Object(_.jsx)("div",{children:Object(_.jsx)(m.n,{className:"uiFont",children:"\u6b64\u9801app\u9023\u7d50\u5df2\u8907\u88fd\u81f3\u526a\u8cbc\u7c3f\uff01"})}),Object(_.jsx)("div",{children:Object(_.jsx)(m.n,{className:"uiFont",children:"\u4e5f\u53ef\u4ee5\u4f7f\u7528QR Code\u5206\u4eab:"})}),Object(_.jsx)("div",{style:{flexGrow:1,flexShrink:0,display:"flex",alignItems:"center",margin:10},children:Object(_.jsx)("canvas",{id:"qrcCanvas",width:"500",height:"500",style:{margin:"0px auto"}})}),Object(_.jsxs)("div",{children:[Object(_.jsx)(m.n,{className:"uiFont",children:"\u5305\u62ecapp\u8a2d\u5b9a:"}),Object(_.jsx)(m.o,{children:Object.keys(k.a.appSettings).map((function(t,n){return Object(_.jsxs)(m.j,{children:[Object(_.jsx)(m.n,{className:"ion-text-wrap uiFont",children:k.a.appSettings[t]}),Object(_.jsx)(m.D,{slot:"end",onIonChange:function(t){var s=e.state.isAppSettingsExport;s[n]=t.detail.checked,e.setState({isAppSettingsExport:s},(function(){e.updateQrCode()}))}})]},"appSettingExportItem_".concat(n))}))})]}),Object(_.jsx)("div",{children:Object(_.jsx)(m.c,{fill:"outline",shape:"round",size:"large",onClick:function(){return e.props.finish()},children:"\u95dc\u9589"})})]})})})}}]),n}(i.a.Component),R=Object(v.b)((function(e){return{settings:e.settings}}))(M),U=n(116),z=window.electronBackendApi,B=function(){var e=localStorage.getItem(k.a.storeFile);return null!=e?Object(w.b)(N,JSON.parse(e)):Object(w.b)(N)}();Object(m.O)({mode:"md",swipeBackEnabled:!1});var P={onSuccess:function(e){},onUpdate:function(e){}},W=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(_.jsx)(v.a,{store:B,children:Object(_.jsx)(V,Object(d.a)({},this.props))})}}]),n}(i.a.Component),q=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;for(Object(p.a)(this,n),(s=t.call(this,e)).registrationNew=void 0,s.originalAppSettingsStr=void 0,s.queryParams=void 0,s.wakeLock=void 0,s.props.settings.hasAppLog||k.a.disableAppLog(),null===z||void 0===z||z.receive("fromMain",(function(e){switch(e.event){case"version":B.dispatch({type:"TMP_SET_KEY_VAL",key:"mainVersion",val:e.version})}})),null===z||void 0===z||z.send("toMain",{event:"ready"}),s.registrationNew=null;document.body.classList.length>0;)document.body.classList.remove(document.body.classList.item(0));return document.body.classList.toggle("theme".concat(s.props.settings.theme),!0),s.queryParams=O.a.parse(s.props.location.search),s.queryParams.settings&&(s.originalAppSettingsStr=localStorage.getItem(k.a.storeFile),s.queryParams.settings.split(",").forEach((function(e){var t=e.split("=");s.props.dispatch({type:"SET_KEY_VAL",key:t[0],val:+t[1]})}))),k.a.updateCssVars(B.getState().settings),s.state={showUpdateAlert:!1,showRestoreAppSettingsToast:null!=s.queryParams.settings&&null!=s.originalAppSettingsStr||!1,showToast:!1,toastMessage:""},P.onUpdate=function(e){s.registrationNew=e,s.setState({showUpdateAlert:!0})},P.onSuccess=function(e){},"undefined"!==typeof speechSynthesis&&(speechSynthesis.getVoices(),speechSynthesis.cancel()),navigator.wakeLock&&(s.wakeLockScreen(),document.addEventListener("visibilitychange",Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"visible"===document.visibilityState?s.wakeLockScreen():s.wakeLockScreenRelease();case 1:case"end":return e.stop()}}),e)}))))),s}return Object(h.a)(n,[{key:"restoreAppSettings",value:function(){localStorage.setItem(k.a.storeFile,this.originalAppSettingsStr),this.props.dispatch({type:"LOAD_SETTINGS"})}},{key:"wakeLockScreen",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==(t=navigator.wakeLock)){e.next=9;break}return e.next=5,t.request("screen");case 5:this.wakeLock=e.sent,console.log("Screen wake lock is requested."),e.next=10;break;case 9:console.error("navigator.wakeLock is undefined.");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("".concat(e.t0.name,", ").concat(e.t0.message)),console.log((new Error).stack);case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"wakeLockScreenRelease",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.wakeLock){e.next=5;break}return e.next=3,this.wakeLock.release();case 3:this.wakeLock=null,console.log("Screen wake lock is released.");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"routeByQueryString",value:function(){console.log(window.location.search);var e=/route=([^&]*)/.exec(window.location.search),t=/query=([^&]*)/.exec(window.location.search);if(null!==e){var n=decodeURIComponent(e[1]),s="";return null!==t&&(s=decodeURIComponent(t[1])),Object(_.jsx)(f.a,{to:n+s})}if(window.location.pathname==="".concat(k.a.pwaUrl,"/")||window.location.pathname==="".concat(k.a.pwaUrl))return Object(_.jsx)(f.a,{to:"".concat(k.a.pwaUrl,"/wheel")})}},{key:"componentDidMount",value:function(){if(this.queryParams.title){var e=this.queryParams.title,t=this.queryParams.s||this.queryParams.sel,n=this.props.settings.decisions.length;this.props.dispatch({type:"ADD_DECISION",decision:new C.a(Object(S.a)(),e,t.map((function(e){return new A.a({title:e})})))}),this.props.dispatch({type:"SET_KEY_VAL",key:"selectedDecision",val:n}),this.setState({showToast:!0,toastMessage:'"'.concat(e,'"\u8f2a\u76e4\u5df2\u7531\u7db2\u5740\u65b0\u589e\uff01')})}}},{key:"render",value:function(){var e,t,n=this;return Object(_.jsxs)(m.b,{children:[Object(_.jsx)(g.a,{children:Object(_.jsxs)(m.A,{children:[Object(_.jsxs)(m.v,{animated:!1,children:[Object(_.jsx)(f.b,{path:"".concat(k.a.pwaUrl,"/wheel"),render:function(e){return Object(_.jsx)(U.a,Object(d.a)({},e))},exact:!0}),Object(_.jsx)(f.b,{path:"".concat(k.a.pwaUrl,"/settings"),render:function(e){return Object(_.jsx)(F.a,Object(d.a)({},e))}}),Object(_.jsx)(f.b,{path:"".concat(k.a.pwaUrl,"/"),render:function(){return n.routeByQueryString()},exact:!0})]}),Object(_.jsxs)(m.y,{slot:"bottom",children:[Object(_.jsx)(m.z,{tab:"wheel",href:"".concat(k.a.pwaUrl,"/wheel"),children:Object(_.jsx)(m.h,{icon:T.p})}),Object(_.jsx)(m.z,{tab:"settings",href:"".concat(k.a.pwaUrl,"/settings"),children:Object(_.jsx)(m.h,{icon:T.u})})]})]})}),Object(_.jsx)(m.a,{cssClass:"uiFont",isOpen:this.state.showUpdateAlert,backdropDismiss:!1,onDidPresent:function(e){var t,s,i,o;null===(t=n.registrationNew)||void 0===t||null===(s=t.installing)||void 0===s||s.postMessage({type:"SKIP_WAITING"}),null===(i=n.registrationNew)||void 0===i||null===(o=i.waiting)||void 0===o||o.postMessage({type:"SKIP_WAITING"})},header:"App \u5df2\u66f4\u65b0\uff0c\u8acb\u91cd\u555f!",buttons:[{text:"\u95dc\u9589",cssClass:"primary uiFont",handler:function(e){n.setState({showUpdateAlert:!1})}}]}),Object(_.jsx)(R,Object(d.a)({},Object(d.a)({text:null===(e=this.props.shareTextModal)||void 0===e?void 0:e.text,showModal:(null===(t=this.props.shareTextModal)||void 0===t?void 0:t.show)||!1,finish:function(){B.dispatch({type:"TMP_SET_KEY_VAL",key:"shareTextModal",val:{show:!1}})}},this.props))),Object(_.jsx)(m.C,{cssClass:"uiFont",isOpen:this.state.showRestoreAppSettingsToast,onDidDismiss:function(){return n.setState({showRestoreAppSettingsToast:!1})},message:"\u5df2\u5957\u7528app\u9023\u7d50\u4e2d\u7684\u8a2d\u5b9a\uff0c\u662f\u5426\u9084\u539f\u8a2d\u5b9a\uff1f",buttons:[{text:"\u53d6\u6d88",role:"cancel",handler:function(){return n.setState({showRestoreAppSettingsToast:!1})}},{text:"\u9084\u539f",handler:function(){return n.restoreAppSettings()}}]}),Object(_.jsx)(m.C,{cssClass:"uiFont",isOpen:this.state.showToast,onDidDismiss:function(){return n.setState({showToast:!1})},message:this.state.toastMessage,duration:2e3})]})}}]),n}(i.a.Component),V=Object(v.b)((function(e){return{shareTextModal:e.tmpSettings.shareTextModal,settings:e.settings,tmpSettings:e.tmpSettings}}))(q),J=Object(f.f)(W),Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){console.log("installingWorker stage changed: ".concat(n.state)),"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}k.a.enableAppLog(),r.a.render(Object(_.jsx)(a.a,{children:Object(_.jsx)(J,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/spin-the-wheel",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/spin-the-wheel","/service-worker.js");Y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):K(t,e)}))}}({onSuccess:function(e){console.log("Precache app loaded!"),P.onSuccess(e)},onUpdate:function(e){console.log("Found app updated!"),P.onUpdate(e)}})},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(4),i=function e(t){Object(s.a)(this,e),this.title="",this.title=t.title}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(4),i=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(s.a)(this,e),this.uuid="",this.title="",this.fontSize=24,this.selections=[],this.uuid=t,this.title=n,this.selections=i}},78:function(e){e.exports=JSON.parse('{"name":"spin-the-wheel","homepage":"/spin-the-wheel","productName":"\u5e78\u904b\u8f2a\u76e4","pwaVersion":"1.3.2","version":"1.1.0","license":"MIT","keywords":["Spin The Wheel","\u5e78\u904b\u8f2a\u76e4","\u5e78\u904b\u8f49\u76e4"],"description":"\u8f49\u52d5\u5e78\u904b\u8f2a\u76e4\uff0c\u770b\u60a8\u6703\u9078\u5230\u4ec0\u9ebc\uff01","repository":"https://github.com/MrMYHuang/spin-the-wheel","author":{"name":"Meng-Yuan Huang","email":"myh@live.com"},"private":false,"files":["README.md"],"main":"buildElectron/main.js","scripts":{"postinstall":"electron-builder install-app-deps","start":"react-app-rewired start","build":"react-app-rewired build && powershell -file CopyBuild.ps1","build_linux":"react-app-rewired build && ./CopyBuild.sh","test":"react-app-rewired test","eject":"react-scripts eject","build-electron":"tsc -b tsconfigElectron.json","build-electron-store":"tsc -b tsconfigElectron.json && mv buildElectron/mainStore.js buildElectron/main.js","start-electron":"npm run build-electron && electron .","dist-snap":"npm run build-electron-store && rm -f dist/*.snap && electron-builder -l snap -c electronBuilderConfigs/snap.json --x64","dist-snap-arm64":"export SNAPCRAFT_BUILD_ENVIRONMENT=lxd && npm run build-electron-store && rm -f dist/*.snap && electron-builder -l snap -c electronBuilderConfigs/snap.json --arm64","publish-snap":"snapcraft upload --release=stable dist/*.snap","icons-mas":"cd buildElectron && iconutil -c icns icon.iconset","dist-mas":"npm run build-electron-store && electron-builder -m mas --universal -c electronBuilderConfigs/mas.json","dist-mas-dev":"npm run build-electron-store && electron-builder -m mas-dev --universal -c electronBuilderConfigs/masDev.json"},"dependencies":{"electron-window-state":"^5.0.3"},"devDependencies":{"@ionic/react":"^5.6.12","@ionic/react-router":"^5.6.12","@testing-library/jest-dom":"^5.14.1","@testing-library/react":"^11.2.7","@testing-library/user-event":"^12.8.3","@types/d3":"^7.0.0","@types/jest":"^26.0.24","@types/node":"^12.20.16","@types/qrcode":"^1.4.1","@types/react":"^16.14.11","@types/react-dom":"^16.9.14","@types/react-redux":"^7.1.18","@types/react-router":"^5.1.16","@types/react-router-dom":"^5.1.8","@types/uuid":"^8.3.1","axios":"^0.21.1","customize-cra":"^1.0.0","d3":"^7.0.0","electron":"^11.4.10","electron-builder":"^22.11.7","electron-builder-notarize-pkg":"^1.2.0","history":"^4.10.1","ionicons":"^5.5.2","memfs":"^3.2.0","qrcode":"^1.4.4","query-string":"^6.14.1","react":"^17.0.2","react-app-rewired":"^2.1.7","react-dom":"^17.0.2","react-redux":"^7.2.4","react-router":"^5.2.0","react-router-dom":"^5.2.0","react-scripts":"^4.0.3","react-test-renderer":"16.2.0","redux":"^4.1.0","typescript":"^4.3.5","uuid":"^8.3.1","workbox-background-sync":"^5.1.3","workbox-broadcast-update":"^5.1.3","workbox-cacheable-response":"^5.1.3","workbox-core":"^5.1.3","workbox-expiration":"^5.1.3","workbox-google-analytics":"^5.1.3","workbox-navigation-preload":"^5.1.3","workbox-precaching":"^5.1.3","workbox-range-requests":"^5.1.3","workbox-routing":"^5.1.3","workbox-strategies":"^5.1.3","workbox-streams":"^5.1.3"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')}},[[275,3,4]]]);
//# sourceMappingURL=main.be4c9057.chunk.js.map